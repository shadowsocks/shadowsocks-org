<!DOCTYPE html><!--[if lt IE 7]>
<html lang="en" class="ie ie6"></html><![endif]--><!--[if IE 7]>
<html lang="en" class="ie ie7"></html><![endif]--><!--[if IE 8]>
<html lang="en" class="ie ie8"></html><![endif]--><!--[if (gte IE 9)|!(IE)]>
<html lang="en"></html>
<head>
  <!-- Basic Page Needs-->
  <meta charset="utf-8">
  <title>Shadowsocks - Preprocessors</title>
  <!-- Mobile specific Metas-->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <!-- Le styles-->
  <link href="/assets/css/app.css" rel="stylesheet">
  <!-- HTML5 shim, for IE6-8 support of HTML5 elements--><!--[if lt IE 9]>
  <script src="/assets/js/html5.js"></script><![endif]-->
  <!-- Fav and touch icons-->
  <link rel="shortcut icon" href="/assets/img/favicon/favicon.ico">
  <link rel="apple-touch-icon" href="/assets/img/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/img/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/img/apple-touch-icon-114x114.png">
</head>
<body>
  <div id="wrap" class="boxed">
    <header>
      <div class="container clearfix">
        <div class="six columns">
          <div class="logo"><a href="/1.4/index.html">Shadowsocks</a></div>
        </div>
        <div class="ten columns">
          <nav id="menu" class="navigation">
            <ul id="nav">
              <li><a href="javascript:void" class="">intro</a>
                <ul>
                  <li><a href="/1.4/intro/installation.html">Installation</a></li>
                  <li><a href="/1.4/intro/configuration.html">Configuration</a></li>
                  <li><a href="/1.4/intro/how-it-works.html">How It Works</a></li>
                  <li><a href="/1.4/intro/faq.html">FAQ</a></li>
                </ul>
              </li>
              <li><a href="javascript:void" class="active">config</a>
                <ul>
                  <li><a href="/1.4/config/configuration-file.html">Configuration File</a></li>
                  <li><a href="/1.4/config/files.html">Files</a></li>
                  <li><a href="/1.4/config/browsers.html">Browsers</a></li>
                  <li><a href="/1.4/config/preprocessors.html">Preprocessors</a></li>
                  <li><a href="/1.4/config/plugins.html">Plugins</a></li>
                </ul>
              </li>
              <li><a href="javascript:void" class="">plus</a>
                <ul>
                  <li><a href="/1.4/plus/requirejs.html">RequireJS</a></li>
                  <li><a href="/1.4/plus/travis.html">Travis CI</a></li>
                  <li><a href="/1.4/plus/jenkins.html">Jenkins CI</a></li>
                  <li><a href="/1.4/plus/semaphore.html">Semaphore CI</a></li>
                  <li><a href="/1.4/plus/cloud9.html">Cloud9</a></li>
                  <li><a href="/1.4/plus/angularjs.html">AngularJS</a></li>
                  <li><a href="/1.4/plus/yeoman.html">Yeoman</a></li>
                  <li><a href="/1.4/plus/emberjs.html">Ember.js</a></li>
                </ul>
              </li>
              <li><a href="javascript:void" class="">dev</a>
                <ul>
                  <li><a href="/1.4/dev/public-api.html">Public Api</a></li>
                  <li><a href="/1.4/dev/plugins.html">Plugins</a></li>
                  <li><a href="/1.4/dev/contributing.html">Contributing</a></li>
                </ul>
              </li>
              <li><a href="javascript:void" class="">about</a>
                <ul>
                  <li><a href="/1.4/about/versioning.html">Versioning</a></li>
                  <li><a href="/1.4/about/changelog.html">Changelog</a></li>
                  <li><a href="/1.4/about/migration.html">Migration</a></li>
                </ul>
              </li>
              <li><a href="javascript:void">v1.4</a>
                <ul>
                  <li><a href="/1.4/index.html">v1.4</a></li>
                </ul>
              </li>
            </ul>
          </nav>
        </div>
        <div class="sixteen columns">
          <hr>
        </div>
      </div>
    </header>
    <div class="container clearfix">
      <div class="sixteen columns">
        <h1 class="page-title">Preprocessors<a href="https://github.com/karma-runner/karma/edit/master/docs/config/04-preprocessors.md" data-tooltip="Edit this page on GitHub" class="edit"><i class="icon-edit"></i></a><span class="line"></span>
        </h1>
      </div>
      <div class="page-columns">
        <div id="markdown" class="sixteen columns bottom"><p>Preprocessors in Karma allow you to do some work with your files before
they get served to the browser. The configuration of these happens in the <code>preprocessors</code> block
within the configuration file:</p>
<pre><code class="language-javascript">preprocessors: {
  <span class="string">'**/*.coffee'</span>: [<span class="string">'coffee'</span>],
  <span class="string">'**/*.html'</span>: [<span class="string">'html2js'</span>]
},</code></pre>
<div class="alert alert-success"><h4 class="alert-heading">Note: </h4>Most of the preprocessors needs to be loaded as <a href="plugins.html">plugins</a>.

</div>
<h2>Available Preprocessors</h2>
<p>These preprocessors/plugins are shipped with Karma by default:</p>
<ul>
<li><a href="https://github.com/karma-runner/karma-coffee-preprocessor">coffee</a></li>
<li><a href="https://github.com/karma-runner/karma-html2js-preprocessor">html2js</a></li>
</ul>
<p>Additional preprocessors can be loaded through <a href="plugins.html">plugins</a>, such as:</p>
<ul>
<li><a href="https://github.com/karma-runner/karma-coverage">coverage</a></li>
<li><a href="https://github.com/karma-runner/karma-ng-html2js-preprocessor">ng-html2js</a></li>
<li><a href="https://github.com/karma-runner/karma-ember-preprocessor">ember</a></li>
</ul>
<p>As mentioned above above, only the coffee and html2j preprocessors come bundled with Karma. Therefore, to use additional preprocessors,
simply install the required NPM library first and the installed preprocessor can be used regularly.</p>
<p>Here&#39;s an example of how to add the coverage preprocessor to your testing suite:</p>
<pre><code class="language-bash"><span class="comment"># Install it first with NPM</span>
$ npm install karma-coverage --save-dev</code></pre>
<p>And then inside your configuration file...</p>
<pre><code class="language-javascript">module.exports = <span class="function"><span class="keyword">function</span><span class="params">(config)</span> {</span>
  config.set({
    preprocessors: {
      <span class="string">'**/*.js'</span>: [<span class="string">'coverage'</span>]
    }
  });
};</code></pre>
<p>Of course, you can write <a href="../dev/plugins.html">custom plugins</a> too!</p>
<h2>Configured Preprocessors</h2>
<p>Some of the preprocessors can be also configured:</p>
<pre><code class="language-javascript">coffeePreprocessor: {
  options: {
    bare: <span class="literal">false</span>
  }
}</code></pre>
<p>Or define a configured preprocessor:</p>
<pre><code class="language-javascript">customPreprocessors: {
  bare_coffee: {
    base: <span class="string">'coffee'</span>,
    options: {bare: <span class="literal">true</span>}
  }
}</code></pre>
<h2>Minimatching</h2>
<p>The keys of the preprocessors config object are used to filter the files specified in
the <code>files</code> configuration.</p>
<ul>
<li>First the file paths are expanded to an absolute path, based on the
<code>basePath</code> configuration and the directory of the configuration file. See
<a href="files.html">files</a> for more information on that.</li>
<li>Then the newly expanded path is matched using <a href="https://github.com/isaacs/minimatch">minimatch</a> against the
specified key.</li>
</ul>
<p>So for example the path <code>/my/absolute/path/to/test/unit/file.coffee</code> matched against
the key <code>**/*.coffee</code> would return <code>true</code>, but matched against just <code>*.coffee</code> it would
return <code>false</code> and the preprocessor would not be executed on the CoffeeScript files.</p>

        </div>
      </div>
    </div>
    <div class="push"></div>
  </div>
  <footer>
    <div class="container">
      <div class="ten columns"><span class="copyright"><a href="https://github.com/karma-runner/karma">Karma</a>&nbsp;is released under the <a href="https://github.com/karma-runner/karma/blob/master/LICENSE">MIT license</a>. Site by&nbsp;<a href="https://github.com/Dignifiedquire">Friedel Ziegelmayer</a>.</span></div>
      <div class="six columns">
        <div class="social"><a href="https://github.com/karma-runner/karma/" data-tooltip="GitHub Repo"><i class="icon-github-alt icon-large"></i></a><a href="https://github.com/karma-runner/karma/issues" data-tooltip="Issues"><i class="icon-beaker icon-large"></i></a><a href="http://twitter.com/JsKarma" data-tooltip="@JsKarma"><i class="icon-twitter icon-large"></i></a><a href="https://groups.google.com/forum/#!forum/karma-users" data-tooltip="Mailing List"><i class="icon-envelope-alt icon-large"></i></a></div>
      </div>
    </div>
  </footer>
</body>
<!-- Placed at the end of the document so the pages load faster-->
<script src="/assets/js/app.js">;</script><![endif]-->